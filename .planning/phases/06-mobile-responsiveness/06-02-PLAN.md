---
phase: 06-mobile-responsiveness
plan: 02
type: execute
wave: 2
depends_on: ["06-01"]
files_modified:
  - components/ConsistencyPicker.jsx
  - components/EggInputs.jsx
  - components/SettingsPanel.jsx
  - components/LocationPressure.jsx
  - components/ResultDisplay.jsx
autonomous: true

must_haves:
  truths:
    - "Stove type tiles (5 items) do not overflow at 320px viewport"
    - "Consistency tiles (4 items) do not overflow at 320px viewport"
    - "Egg size tiles (4 items) do not overflow at 320px viewport"
    - "Egg count buttons (8 items) do not overflow at 320px viewport"
    - "Start temperature tiles (3 items) do not overflow at 320px viewport"
    - "Location pressure grid does not overflow at 320px viewport"
    - "All interactive buttons meet 44x44px minimum touch target"
    - "All number inputs use text-base (16px) to prevent iOS auto-zoom"
  artifacts:
    - path: "components/ConsistencyPicker.jsx"
      provides: "Responsive consistency tile grid"
      contains: "grid-cols-1"
    - path: "components/EggInputs.jsx"
      provides: "Responsive egg inputs with touch-friendly buttons"
      contains: "min-h-[44px]"
    - path: "components/SettingsPanel.jsx"
      provides: "Responsive settings with mobile-first grids"
      contains: "grid-cols-1"
    - path: "components/LocationPressure.jsx"
      provides: "Responsive location section with stacked inputs on mobile"
      contains: "grid-cols-1"
    - path: "components/ResultDisplay.jsx"
      provides: "Responsive result display with touch-friendly timer button"
      contains: "min-h-[44px]"
  key_links:
    - from: "components/ConsistencyPicker.jsx"
      to: "constants.js CONSISTENCY_OPTIONS"
      via: "map over 4 items"
      pattern: "CONSISTENCY_OPTIONS\\.map"
    - from: "components/SettingsPanel.jsx"
      to: "constants.js STOVE_TYPES"
      via: "map over 5 items"
      pattern: "STOVE_TYPES\\.map"
    - from: "components/EggInputs.jsx"
      to: "constants.js EGG_SIZES"
      via: "map over 4 items"
      pattern: "EGG_SIZES\\.map"
---

<objective>
Make all component tile/button grids responsive using mobile-first Tailwind classes and ensure all interactive elements meet 44x44px minimum touch target size.

Purpose: This is the core mobile layout fix -- tile/button groups are the primary overflow source at 320px. Stove types (5-col), consistency (4-col), egg sizes (4-col), egg count (8 buttons in flex), start temp (3-col), and location pressure (3-col) all need mobile-first responsive grids that stack on mobile and expand on larger screens. Depends on Plan 06-01 because the Tailwind config must scan components/ directory before responsive classes added to those files will survive production builds.

Output: All 5 component files updated with mobile-first responsive layouts and proper touch targets.
</objective>

<execution_context>
@/Users/beff/.claude/get-shit-done/workflows/execute-plan.md
@/Users/beff/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/06-mobile-responsiveness/06-CONTEXT.md
@.planning/phases/06-mobile-responsiveness/06-RESEARCH.md
@.planning/phases/06-mobile-responsiveness/06-01-SUMMARY.md
@components/ConsistencyPicker.jsx
@components/EggInputs.jsx
@components/SettingsPanel.jsx
@components/LocationPressure.jsx
@components/ResultDisplay.jsx
@constants.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Make tile grids responsive in ConsistencyPicker and EggInputs</name>
  <files>components/ConsistencyPicker.jsx, components/EggInputs.jsx</files>
  <action>
**ConsistencyPicker.jsx:**

Change the consistency grid from fixed `grid-cols-4` to mobile-first responsive:
```jsx
<div className="grid grid-cols-2 gap-2 sm:grid-cols-4">
```
- Mobile (< 640px): 2 columns (4 items in 2 rows) -- full-width stacking would be too tall for 4 items, 2-col is the right balance
- Desktop (640px+): 4 columns (current layout)

Add `min-h-[44px]` to each tile button for touch target:
```jsx
<button ... className={`p-3 min-h-[44px] rounded-xl border-2 transition-all ${...}`}>
```
Change `p-2` to `p-3` for more padding on mobile. Keep existing conditional classes.

**EggInputs.jsx:**

1. **Egg count + water volume grid** (line ~42): Change `grid-cols-2` to stack on mobile:
   ```jsx
   <div className="grid grid-cols-1 gap-4 sm:grid-cols-2 mb-5">
   ```

2. **Egg count buttons** (8 buttons in flex, line ~47-61): These will overflow at 320px with 8 items. Change to a 2-row grid approach:
   ```jsx
   <div className="grid grid-cols-4 gap-1.5 sm:flex sm:gap-1">
   ```
   This gives 4-per-row on mobile (2 rows of 4) and returns to flex on desktop.
   Add `min-h-[44px]` to each button:
   ```jsx
   <button ... className={`py-2 min-h-[44px] rounded-lg border-2 text-sm font-medium transition-all ${...}`}>
   ```
   On mobile grid, remove `flex-1` (not needed in grid). On sm+ use flex with `sm:flex-1`. So the button class should be:
   ```jsx
   className={`py-2 min-h-[44px] sm:flex-1 rounded-lg border-2 text-sm font-medium transition-all ${...}`}
   ```

3. **Egg size grid** (line ~85): Change `grid-cols-4` to responsive:
   ```jsx
   <div className="grid grid-cols-2 gap-2 sm:grid-cols-4 mb-2">
   ```
   Add `min-h-[44px]` to each egg size button.

4. **Start temperature grid** (line ~116): Change `grid-cols-3` to responsive:
   ```jsx
   <div className="grid grid-cols-1 gap-2 sm:grid-cols-3">
   ```
   Mobile: full-width stacked (3 items stacks nicely). Desktop: 3-col.
   Add `min-h-[44px]` to each button.
   For start temp buttons on mobile, use a horizontal layout within each button (icon left, text right) instead of stacked:
   ```jsx
   <button ... className={`p-3 min-h-[44px] rounded-lg border-2 transition-all flex items-center gap-2 sm:block sm:text-center ${...}`}>
     <div className="text-xl sm:mb-1">{option.icon}</div>
     <div>
       <div className="text-xs font-medium">{t(option.nameKey)}</div>
       <div className="text-xs text-gray-500">{formatTemp(option.temp, tempUnit)}</div>
     </div>
   </button>
   ```
   This makes stacked tiles use horizontal layout on mobile for space efficiency.

5. **Slider inputs**: All range inputs should use `text-base` class on their labels. The actual slider styling is handled by index.css (Plan 01). No changes needed to the sliders themselves.

6. **Number inputs**: The water volume slider label uses `text-sm` -- this is fine (it's a label, not an input). No number inputs in this file.
  </action>
  <verify>
    - Run `npm run build` to verify build succeeds
    - Run `npm test` to verify all tests pass
  </verify>
  <done>ConsistencyPicker uses 2-col mobile / 4-col desktop grid. EggInputs uses responsive grids for egg count (4-col grid mobile), egg size (2-col mobile), start temp (1-col mobile). All tile buttons meet 44px minimum height.</done>
</task>

<task type="auto">
  <name>Task 2: Make SettingsPanel, LocationPressure, and ResultDisplay responsive</name>
  <files>components/SettingsPanel.jsx, components/LocationPressure.jsx, components/ResultDisplay.jsx</files>
  <action>
**SettingsPanel.jsx:**

1. **Stove type grid** (line ~55): Change `grid-cols-5` to mobile-first responsive:
   ```jsx
   <div className="grid grid-cols-2 gap-2 sm:grid-cols-3 lg:grid-cols-5">
   ```
   Mobile: 2 columns (5 items = 3 rows). Tablet: 3 columns. Desktop: 5 columns (current).
   Add `min-h-[44px]` to each stove button:
   ```jsx
   <button ... className={`p-3 min-h-[44px] rounded-lg border-2 transition-all text-center ${...}`}>
   ```

2. **Stove power slider** (lines ~75-92): The slider is fine (`w-full`). Ensure the range labels don't overflow. The `flex justify-between text-xs` should work. No changes needed.

3. **Pot material/weight grid** (line ~95): Change `grid-cols-2 gap-4` to stack on mobile:
   ```jsx
   <div className="grid grid-cols-1 gap-4 sm:grid-cols-2 mb-5">
   ```

4. **Select input** (pot material, line ~98-106): Add `text-base min-h-[44px]` to prevent iOS zoom:
   ```jsx
   <select ... className="w-full p-2 text-base min-h-[44px] border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-amber-400">
   ```

5. **Temperature section** (lines ~125-176): Change inner `grid-cols-2 gap-4` to responsive:
   ```jsx
   <div className="grid grid-cols-1 gap-4 sm:grid-cols-2">
   ```

6. **Reset button** (line ~187-196): Add `min-h-[44px]`:
   ```jsx
   <button ... className="w-full py-3 min-h-[44px] px-4 bg-gray-500 text-white text-sm font-medium rounded-lg hover:bg-gray-600 transition-colors shadow-sm">
   ```

**LocationPressure.jsx:**

1. **Header flex** (lines ~42-53): The GPS button and label use flex with `justify-between`. On narrow screens, the button text might overflow. Make the button text responsive:
   ```jsx
   <button ... className="px-3 py-2 min-h-[44px] bg-sky-500 text-white text-xs sm:text-sm rounded-lg hover:bg-sky-600 disabled:opacity-50 transition-colors whitespace-nowrap">
   ```
   Change `py-1` to `py-2` for better touch target.

2. **Pressure/boiling/altitude grid** (line ~59): Change `grid-cols-3 gap-3` to responsive:
   ```jsx
   <div className="grid grid-cols-1 gap-3 sm:grid-cols-3">
   ```
   Mobile: stacked. Desktop: 3-col.

3. **Pressure number input** (line ~63-68): Add `text-base min-h-[44px]` for iOS zoom prevention:
   ```jsx
   <input type="number" ... className="w-full px-2 py-2 text-base min-h-[44px] border border-sky-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-sky-400" />
   ```
   Note: `text-base` overrides `text-sm` for the input element. Actually, use `text-base` only (remove `text-sm`), since we need 16px on inputs.

**ResultDisplay.jsx:**

1. **Result flex layout** (line ~55): The `flex items-center gap-6` works at mobile widths since it's just an SVG + text. But add `flex-col sm:flex-row` so on mobile the egg visualization stacks above the time:
   ```jsx
   <div className="flex flex-col items-center gap-4 sm:flex-row sm:gap-6">
   ```

2. **Start timer button** (line ~95-101): Already `w-full py-3`. Add `min-h-[44px]`:
   ```jsx
   <button ... className="mt-4 w-full py-3 min-h-[44px] px-6 bg-amber-500 text-white text-lg font-medium rounded-xl shadow-md hover:bg-amber-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors">
   ```

3. **Timer countdown display** (lines ~83-92): Add responsive text size:
   ```jsx
   <div className="text-5xl sm:text-6xl font-bold text-white tabular-nums tracking-wider">
   ```

**Across all files:** Do NOT modify any props, callbacks, state, or logic. Only modify className strings and JSX structure where needed for responsive layout (like adding flex-col/flex-row wrapping). Preserve all existing behavior.
  </action>
  <verify>
    - Run `npm run build` to verify build succeeds
    - Run `npm test` to verify all tests pass
  </verify>
  <done>SettingsPanel stove tiles use 2-col mobile / 5-col desktop, pot/temp grids stack on mobile. LocationPressure stacks pressure/boiling/altitude on mobile. ResultDisplay stacks egg + time vertically on mobile. All interactive elements meet 44px touch target. All inputs use text-base (16px) for iOS zoom prevention.</done>
</task>

</tasks>

<verification>
- `npm run build` succeeds
- `npm test` passes (all 218 tests)
- No fixed-width grids that overflow at 320px remain in any component
- All button/tile elements have `min-h-[44px]`
- All `<input type="number">` and `<select>` elements use `text-base` (16px minimum)
- Grid layouts use mobile-first approach (unprefixed = mobile, sm:/lg: = larger screens)
</verification>

<success_criteria>
- All tile/button groups render without overflow at 320px viewport width
- All interactive elements meet 44x44px minimum touch target
- Number inputs use 16px font size to prevent iOS Safari auto-zoom
- Grids stack vertically on mobile and expand to multi-column on desktop
- All 218 tests still pass
- Build succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/06-mobile-responsiveness/06-02-SUMMARY.md`
</output>
